(this["webpackJsonpvertretungsplanapp-3.0"]=this["webpackJsonpvertretungsplanapp-3.0"]||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),s=(a(31),a(4)),u=a(11),o=a(1),i=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"welcome"},r.a.createElement("img",{id:"bigIcon",src:"/assets/vertretungsplanIcon.png",alt:""}),r.a.createElement("h1",null,"Bitte authentifizieren Sie sich mit Ihrem Moodle-Account."),r.a.createElement(u.b,{to:"/login",className:"btnMoodle"},r.a.createElement("img",{src:"/assets/moodleIcon.png",alt:""}),r.a.createElement("p",null,"Mit Moodle anmelden"))))},m=a(13),E=a.n(m),p=a(16),f=a(24),d=a(9),b=a(40),g=function(e){var t=e.plan,a=t.date,c=t.array,l=e.index,u=e.filterValues,o=Object(n.useState)(0===l),i=Object(s.a)(o,2),m=i[0],E=i[1];return r.a.createElement("li",{onClick:function(){return E(!m)}},r.a.createElement("h1",null,function(e){var t=new Array(7);return t[0]="Sonntag",t[1]="Montag",t[2]="Dienstag",t[3]="Mittwoch",t[4]="Donnerstag",t[5]="Freitag",t[6]="Samstag",t[e.getDay()]}(a)),r.a.createElement("p",null,a.getDate(),".",function(e){return{0:"Januar",1:"Februar",2:"M\xe4rz",3:"April",4:"Mai",5:"Juni",6:"Juli",7:"August",8:"September",9:"Oktober",10:"November",11:"Dezember"}[e.getMonth()]}(a)),r.a.createElement("table",{className:m?"":"hidden"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Klasse"),r.a.createElement("th",null,"Stun"),r.a.createElement("th",null,"Vert"),r.a.createElement("th",null,"Lehrer"),r.a.createElement("th",null,"Fach"),r.a.createElement("th",null,"Raum"),r.a.createElement("th",null,"Text")),c.map((function(e){var t=e.klasse,a=e.stunde,n=e.vert_lehrer,c=e.lehrer,l=e.fach,s=e.raum,o=e.text;return!function(e,t,a,n,r){var c=!e.class||t.toLowerCase().replace(/\s/g,"").indexOf(e.class.toLocaleLowerCase())>-1,l=!(e.courses.length>0)||e.courses.toString().toLowerCase().indexOf(r.toLowerCase().replace(/\s/g,""))>-1,s=!e.key||(a.toLowerCase().replace(/\s/g,"")===e.key.toLocaleLowerCase()||n.toLowerCase().replace(/\s/g,"")===e.key.toLowerCase());return!c||!l||!s}(u,t,c,n,l)&&r.a.createElement("tr",{key:"".concat(t).concat(a).concat(n).concat(c).concat(l).concat(s).concat(o),className:"vertretung ".concat("---"===s?"entfall":"")},r.a.createElement("td",{className:"klasse"},t),r.a.createElement("td",{className:"stunde"},a),r.a.createElement("td",{className:"vert_lehrer"},n),r.a.createElement("td",{className:"lehrer"},c),r.a.createElement("td",{className:"fach"},l),r.a.createElement("td",{className:"raum"},s),r.a.createElement("td",{className:"text"},o))})))))},h=function(e){var t=e.title,a=e.left,n=e.right;return r.a.createElement("header",null,a&&a.icon?a.link?r.a.createElement(u.b,{to:a.link},a.icon):r.a.createElement("span",null,a.icon):r.a.createElement("div",{className:"placeholderIcon"}),r.a.createElement("h1",null,t),n&&n.icon?n.link?r.a.createElement(u.b,{to:n.link},n.icon," "):r.a.createElement("span",null,n.icon):r.a.createElement("div",{className:"placeholderIcon"}))},v=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2018 SH"))},N=a(20),O=a(8),j=function(e){var t=e.user.username,a=e.toggle,c=e.filterValues,l=e.setFilterValues,u=Object(n.useState)(""),o=Object(s.a)(u,2),i=o[0],m=o[1],E=Object(n.useState)(c),p=Object(s.a)(E,1)[0],f=function(){i.length>0&&(isNaN(i[0])?c.courses.includes(i)||l(Object(O.a)(Object(O.a)({},c),{},{courses:[].concat(Object(N.a)(c.courses),[i])})):l(Object(O.a)(Object(O.a)({},c),{},{class:i})),m(""))};return r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"filterContent "},r.a.createElement("div",{className:"menu"},r.a.createElement("p",{onClick:function(){l(p),a()},className:"btn btn-Filter"},"Abbrechen"),r.a.createElement("p",{onClick:function(){f(),a()},className:"btn btn-Filter"},"Speichern")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f()}},r.a.createElement("input",{type:"text",value:i,onChange:function(e){return m(e.target.value)},placeholder:t.includes("mpg")?"K\xfcrzel":"Stufe oder Kurs"})),r.a.createElement("div",{className:"filterlist"},[c.class,c.key].concat(Object(N.a)(c.courses)).map((function(e){return e&&r.a.createElement("div",{key:e,className:"row"},r.a.createElement(d.e,{className:"btnIcon"}),r.a.createElement("p",{className:""},e),r.a.createElement(d.f,{onClick:function(){return function(e){console.log(c.class===e),c.class===e||c.key===e?l({courses:c.courses}):l(Object(O.a)(Object(O.a)({},c),{},{courses:c.courses.filter((function(t){return t!==e}))}))}(e)},className:"btnIcon"}))})))))},k=function(e){var t=e.user,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],u=c[1];Object(n.useEffect)((function(){Object(p.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/example.json",{headers:{"Content-Type":"application/json"}});case 2:if(200!==(t=e.sent).status){e.next=12;break}return e.t0=u,e.t1=JSON,e.next=8,t.text();case 8:e.t2=e.sent,e.t3=f.jsonDateParser,e.t4=e.t1.parse.call(e.t1,e.t2,e.t3),(0,e.t0)(e.t4);case 12:case"end":return e.stop()}}),e)})))()}),[]);var o=Object(n.useState)(!1),i=Object(s.a)(o,2),m=i[0],N=i[1],O=Object(n.useState)((function(){var e=localStorage.getItem("filterValues");return e?JSON.parse(e):{courses:[]}})),k=Object(s.a)(O,2),S=k[0],y=k[1];Object(n.useEffect)((function(){return localStorage.setItem("filterValues",JSON.stringify(S))}),[S]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{title:"Vertretungsplan",left:{icon:r.a.createElement(d.d,{className:"btnIcon",onClick:function(e){return N(!m)}})},right:{icon:r.a.createElement(d.c,{className:"btnIcon"}),link:"/settings"}}),r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:0===l.length?"empty":""},l.map((function(e,t){return r.a.createElement(g,{filterValues:S,key:e.date.toISOString(),index:t,plan:e})})))),r.a.createElement(b.a,{in:m,classNames:"filter",timeout:500,unmountOnExit:!0},r.a.createElement(j,{user:t,toggle:function(){return N(!m)},filterValues:S,setFilterValues:y})),r.a.createElement(v,null))},S=function(e){var t=e.updateUser,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],u=c[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],f=i[1],d=function(){var e=Object(p.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch("/user.json",{headers:{"Content-Type":"application/json"}});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.t0=t,e.next=8,n.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main"},r.a.createElement("form",{className:"login",id:"login",onSubmit:d},r.a.createElement("div",{className:"message hidden"},r.a.createElement("p",null)),r.a.createElement("input",{type:"text",id:"username",placeholder:"Benutzername",value:l,onChange:function(e){return u(e.target.value)}}),r.a.createElement("input",{type:"password",id:"password",placeholder:"Passwort",value:m,onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{id:"submit",className:"btn",type:"submit",value:"Anmelden"}))))},y=function(e){var t=e.user,a=e.updateUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{title:"Settings",left:{link:"/",icon:r.a.createElement(d.a,{className:"btnIcon"})}}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"settings"},t&&Object.entries(t).map((function(e){var n=Object(s.a)(e,2),c=n[0],l=n[1];return r.a.createElement("div",{key:c,className:"setting"},r.a.createElement("h1",null,c),r.a.createElement("div",null,"string"===typeof l?r.a.createElement("p",null,l):r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:!!l,onChange:function(e){var n={};n[c]=!t[c],a(Object(O.a)(Object(O.a)({},t),n))}}),r.a.createElement("span",{className:"slider round"}))))})),r.a.createElement("div",{style:{marginTop:"auto"},className:"setting"},r.a.createElement("h1",null,"Logout"),r.a.createElement("div",null,r.a.createElement(d.b,{onClick:function(){return a(null)},className:"btnIcon"}))))),r.a.createElement(v,null))},w=function(){var e=Object(n.useState)((function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null})),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){return localStorage.setItem("user",JSON.stringify(a))}),[a]),r.a.createElement(u.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/login"},a?r.a.createElement(o.a,{to:""}):r.a.createElement(S,{updateUser:c})),r.a.createElement(o.b,{path:"/settings"},a?r.a.createElement(y,{updateUser:c,user:a}):r.a.createElement(o.a,{to:"login"})),r.a.createElement(o.b,{path:"/welcome"},a?r.a.createElement(o.a,{to:"/"}):r.a.createElement(i,null)),r.a.createElement(o.b,{path:"/"},a?r.a.createElement(k,{user:a}):r.a.createElement(o.a,{to:"welcome"}))))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.8a99c029.chunk.js.map